{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thanh\\\\Desktop\\\\code\\\\h\\u1EC7 th\\u1ED1ng ph\\xE2n t\\xE1n\\\\web-thu-vien-mern-stack-main\\\\front-end\\\\src\\\\Components\\\\BookDetails\\\\BookDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Loading from \"../Loader/Loader\";\nimport coverImg from \"../../images/cover_not_found.jpg\";\nimport \"./BookDetails.css\";\nimport { FaArrowLeft } from \"react-icons/fa\";\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport getUrlImage from \"../../Pages/getURLimage\";\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [book, setBook] = useState(null);\n  const history = useHistory();\n  const API_URL = process.env.REACT_APP_API_URL;\n  useEffect(() => {\n    setLoading(true);\n    const getBookDetails = async () => {\n      try {\n        const response = await axios.get(API_URL + 'api/books/getbook/' + id);\n        const data = response.data;\n        console.log(data);\n        if (data) {\n          const {\n            description,\n            bookName,\n            image_url,\n            bookCountAvailable,\n            publisher,\n            author,\n            categories\n          } = data;\n          const newBook = {\n            description: description ? description : \"Chưa có mô tả\",\n            bookName: bookName,\n            cover_img: image_url ? image_url : coverImg,\n            publisher: publisher ? publisher : \"\",\n            author: author ? author : \"\",\n            categories: categories,\n            bookCountAvailable: bookCountAvailable\n          };\n          console.log(\"newbook =>\" + newBook);\n          setBook(newBook);\n        } else {\n          setBook(null);\n        }\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setLoading(false);\n      }\n    };\n    getBookDetails();\n  }, [id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"books-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"addbook-submit\",\n      onClick: () => history.push(\"/books\"),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n        size: 22\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"fs-18 fw-6\",\n        children: \"Tr\\u1EDF l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getUrlImage(book === null || book === void 0 ? void 0 : book.cover_img),\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bookcard-title\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: book === null || book === void 0 ? void 0 : book.bookName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bookcard-author\",\n        children: [\" \", book === null || book === void 0 ? void 0 : book.author, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bookcard-author\",\n        children: book === null || book === void 0 ? void 0 : book.publisher\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bookcard-author\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"S\\u1EB5n c\\xF3:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 42\n        }, this), \" \", book === null || book === void 0 ? void 0 : book.bookCountAvailable]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bookcard-description\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"M\\xF4 t\\u1EA3:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 47\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          children: book === null || book === void 0 ? void 0 : book.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 61\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookcard-category\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: book === null || book === void 0 ? void 0 : book.categories\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookcard-select\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bookcard-emptybox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetails, \"okX5MF+KmXP9YWmRJKfLfXkzbfI=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Loading","coverImg","FaArrowLeft","axios","useHistory","getUrlImage","Breadcrumb","jsxDEV","_jsxDEV","BookDetails","_s","id","loading","setLoading","book","setBook","history","API_URL","process","env","REACT_APP_API_URL","getBookDetails","response","get","data","console","log","description","bookName","image_url","bookCountAvailable","publisher","author","categories","newBook","cover_img","error","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","onClick","push","size","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Thanh/Desktop/code/hệ thống phân tán/web-thu-vien-mern-stack-main/front-end/src/Components/BookDetails/BookDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Loading from \"../Loader/Loader\";\nimport coverImg from \"../../images/cover_not_found.jpg\";\nimport \"./BookDetails.css\";\nimport { FaArrowLeft } from \"react-icons/fa\";\nimport axios from 'axios'\nimport {useHistory} from \"react-router-dom\"\nimport getUrlImage from \"../../Pages/getURLimage\"\n\nimport Breadcrumb from '../Breadcrumb/Breadcrumb';\n\nconst BookDetails = () => {\n  const { id } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [book, setBook] = useState(null);\n  const history  = useHistory();\n  const API_URL = process.env.REACT_APP_API_URL;\n\n\n  useEffect(() => {\n    setLoading(true);\n    const getBookDetails = async () => {\n      try {\n        const response = await axios.get(API_URL + 'api/books/getbook/' + id);\n        const data = response.data;\n        console.log(data);\n\n        if (data) {\n          const { description, bookName, image_url, bookCountAvailable, publisher, author, categories } = data;\n          \n\n          const newBook = {\n            description: description ? description : \"Chưa có mô tả\",\n            bookName: bookName,\n            cover_img: image_url ? image_url : coverImg,\n            publisher: publisher ? publisher : \"\",\n            author: author ? author : \"\",\n            categories: categories,\n            bookCountAvailable: bookCountAvailable\n          };\n          console.log(\"newbook =>\"+newBook);\n          setBook(newBook);\n        } else {\n          setBook(null);\n        }\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setLoading(false);\n      }\n    }\n    getBookDetails();\n  }, [id]);\n\n  if (loading) return <Loading />;\n\n  return (\n    <div className=\"books-page\">\n        \n\n        <button type='button' className='addbook-submit' onClick={() => history.push(\"/books\")}>\n          <FaArrowLeft size={22} />\n          <span className='fs-18 fw-6'>Trở lại</span>\n        </button>\n\n        <div className=\"book-card\">\n          <img src={getUrlImage(book?.cover_img)} alt=\"\" ></img>\n\n          <p className=\"bookcard-title\"><b>{book?.bookName}</b></p>\n\n          <p className=\"bookcard-author\"> {book?.author} </p>\n          <p className=\"bookcard-author\">{book?.publisher}</p>\n          <p className=\"bookcard-author\"><b>Sẵn có:</b> {book?.bookCountAvailable}</p>\n          <p className=\"bookcard-description\"><b>Mô tả:</b> <i>{book?.description}</i> </p>\n\n          <div>\n            <div className=\"bookcard-category\">\n              <p>{book?.categories}</p>\n            </div>\n            <div className=\"bookcard-select\">\n              <button>Chọn</button>\n            </div>\n          </div>\n          <div className=\"bookcard-emptybox\"></div>\n        </div>\n      </div>\n  )\n}\n\nexport default BookDetails"],"mappings":"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"},"metadata":{},"sourceType":"module"}