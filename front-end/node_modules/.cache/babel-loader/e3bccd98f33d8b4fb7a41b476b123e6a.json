{"ast":null,"code":"import TransApi from \"../callAPI/trans.js\";\nconst TransController = {\n  getAllTrans_Activie: async () => {\n    try {\n      const alltrans = await TransApi.getAllTrans();\n      // Xử lý dữ liệu nếu cần\n      const processedTransactions = alltrans.map(transaction => ({\n        id: transaction._id,\n        borrowerName: transaction.borrowerId.userFullName,\n        // Lấy tên người mượn thông qua ref\n        bookName: transaction.books.map(book => book.bookName).join(', '),\n        // Lấy tên cuốn sách thông qua ref và join thành một chuỗi nếu có nhiều cuốn sách\n        fromDate: transaction.fromDate,\n        toDate: transaction.toDate,\n        returnDate: transaction.returnDate,\n        createdAt: transaction.createdAt\n      }));\n      return processedTransactions;\n    } catch (error) {\n      // Xử lý lỗi nếu cần\n      console.error(\"Error in getting all transactions:\", error);\n      throw error;\n    }\n  },\n  getAllTrans_Activie: async () => {\n    try {\n      const alltrans = await TransApi.getAllTrans();\n      // Xử lý dữ liệu nếu cần\n      return alltrans.filter(transaction => transaction.transactionStatus === \"Active\");\n    } catch (error) {\n      // Xử lý lỗi nếu cần\n      console.error(\"Error in getting all transactions:\", error);\n      throw error;\n    }\n  }\n  // Các hàm controller khác có thể được thêm ở đây\n};\n\nexport default TransController;","map":{"version":3,"names":["TransApi","TransController","getAllTrans_Activie","alltrans","getAllTrans","processedTransactions","map","transaction","id","_id","borrowerName","borrowerId","userFullName","bookName","books","book","join","fromDate","toDate","returnDate","createdAt","error","console","filter","transactionStatus"],"sources":["C:/Users/Thanh/Desktop/code/hệ thống phân tán/web-thu-vien-mern-stack-main/front-end/src/Controller/TransactionController.js"],"sourcesContent":["import TransApi from \"../callAPI/trans.js\"\r\nconst TransController = {\r\n    getAllTrans_Activie: async () => {\r\n        try {\r\n            const alltrans = await TransApi.getAllTrans();\r\n            // Xử lý dữ liệu nếu cần\r\n            const processedTransactions = alltrans.map(transaction => ({\r\n                id: transaction._id,\r\n                borrowerName: transaction.borrowerId.userFullName, // Lấy tên người mượn thông qua ref\r\n                bookName: transaction.books.map(book => book.bookName).join(', '), // Lấy tên cuốn sách thông qua ref và join thành một chuỗi nếu có nhiều cuốn sách\r\n                fromDate: transaction.fromDate,\r\n                toDate: transaction.toDate,\r\n                returnDate: transaction.returnDate,\r\n                createdAt: transaction.createdAt\r\n            }));\r\n            return processedTransactions;\r\n        } catch (error) {\r\n            // Xử lý lỗi nếu cần\r\n            console.error(\"Error in getting all transactions:\", error);\r\n            throw error;\r\n        }\r\n    },\r\n    getAllTrans_Activie: async () => {\r\n        try {\r\n            const alltrans = await TransApi.getAllTrans();\r\n            // Xử lý dữ liệu nếu cần\r\n            return alltrans.filter(transaction => transaction.transactionStatus === \"Active\");\r\n        } catch (error) {\r\n            // Xử lý lỗi nếu cần\r\n            console.error(\"Error in getting all transactions:\", error);\r\n            throw error;\r\n        }\r\n    },\r\n    // Các hàm controller khác có thể được thêm ở đây\r\n};\r\nexport default TransController;"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAC1C,MAAMC,eAAe,GAAG;EACpBC,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMH,QAAQ,CAACI,WAAW,CAAC,CAAC;MAC7C;MACA,MAAMC,qBAAqB,GAAGF,QAAQ,CAACG,GAAG,CAACC,WAAW,KAAK;QACvDC,EAAE,EAAED,WAAW,CAACE,GAAG;QACnBC,YAAY,EAAEH,WAAW,CAACI,UAAU,CAACC,YAAY;QAAE;QACnDC,QAAQ,EAAEN,WAAW,CAACO,KAAK,CAACR,GAAG,CAACS,IAAI,IAAIA,IAAI,CAACF,QAAQ,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC;QAAE;QACnEC,QAAQ,EAAEV,WAAW,CAACU,QAAQ;QAC9BC,MAAM,EAAEX,WAAW,CAACW,MAAM;QAC1BC,UAAU,EAAEZ,WAAW,CAACY,UAAU;QAClCC,SAAS,EAAEb,WAAW,CAACa;MAC3B,CAAC,CAAC,CAAC;MACH,OAAOf,qBAAqB;IAChC,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACZ;MACAC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1D,MAAMA,KAAK;IACf;EACJ,CAAC;EACDnB,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMH,QAAQ,CAACI,WAAW,CAAC,CAAC;MAC7C;MACA,OAAOD,QAAQ,CAACoB,MAAM,CAAChB,WAAW,IAAIA,WAAW,CAACiB,iBAAiB,KAAK,QAAQ,CAAC;IACrF,CAAC,CAAC,OAAOH,KAAK,EAAE;MACZ;MACAC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1D,MAAMA,KAAK;IACf;EACJ;EACA;AACJ,CAAC;;AACD,eAAepB,eAAe"},"metadata":{},"sourceType":"module"}